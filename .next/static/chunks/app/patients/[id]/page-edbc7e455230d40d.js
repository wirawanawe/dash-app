(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9961],{2843:(e,s,t)=>{Promise.resolve().then(t.bind(t,6567))},6567:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>x});var a=t(5155),r=t(2115),d=t(6046),i=t(7006),l=t(1536),n=t(8173),c=t(5037);function x(){let e=(0,d.useParams)(),s=(0,d.useRouter)(),[t,x]=(0,r.useState)(null),[m,h]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let s=async()=>{try{let s=await fetch("/api/patients/".concat(e.id)),t=await s.json();if(!s.ok)throw Error(t.error||"Gagal mengambil data pasien");x(t)}catch(e){console.error("Error:",e),c.Ay.error(e.message)}finally{h(!1)}};e.id&&s()},[e.id]);let o=async()=>{if(confirm("Apakah Anda yakin ingin menghapus pasien ini?"))try{let t=await fetch("/api/patients/".concat(e.id),{method:"DELETE"});if(!t.ok){let e=await t.json();throw Error(e.error||"Gagal menghapus pasien")}c.Ay.success("Pasien berhasil dihapus"),s.push("/patients")}catch(e){console.error("Error:",e),c.Ay.error(e.message)}};return m?(0,a.jsx)(i.A,{children:(0,a.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-[#E22345]"})})}):t?(0,a.jsx)(i.A,{children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Detail Pasien"}),(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsxs)(n,{href:"/patients/".concat(t.id,"/edit"),className:"flex items-center px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600",children:[(0,a.jsx)(l.uO9,{className:"mr-2"}),"Edit"]}),(0,a.jsxs)("button",{onClick:o,className:"flex items-center px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600",children:[(0,a.jsx)(l.qbC,{className:"mr-2"}),"Hapus"]})]})]}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Data Pribadi"}),(0,a.jsxs)("dl",{className:"space-y-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"No. RM"}),(0,a.jsx)("dd",{className:"text-sm text-gray-900",children:t.mrNumber})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Nama"}),(0,a.jsx)("dd",{className:"text-sm text-gray-900",children:t.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"NIK"}),(0,a.jsx)("dd",{className:"text-sm text-gray-900",children:t.nik})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Tanggal Lahir"}),(0,a.jsx)("dd",{className:"text-sm text-gray-900",children:new Date(t.birthDate).toLocaleDateString("id-ID")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Jenis Kelamin"}),(0,a.jsx)("dd",{className:"text-sm text-gray-900",children:t.gender})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Data Kontak"}),(0,a.jsxs)("dl",{className:"space-y-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Alamat"}),(0,a.jsx)("dd",{className:"text-sm text-gray-900",children:t.address})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Telepon"}),(0,a.jsx)("dd",{className:"text-sm text-gray-900",children:t.phone})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Email"}),(0,a.jsx)("dd",{className:"text-sm text-gray-900",children:t.email})]})]})]}),t.insurance&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Data Asuransi"}),(0,a.jsxs)("dl",{className:"space-y-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Provider"}),(0,a.jsx)("dd",{className:"text-sm text-gray-900",children:t.insurance.provider})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Nomor Asuransi"}),(0,a.jsx)("dd",{className:"text-sm text-gray-900",children:t.insurance.number})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Tipe Asuransi"}),(0,a.jsx)("dd",{className:"text-sm text-gray-900",children:t.insurance.type})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Status"}),(0,a.jsx)("dd",{className:"text-sm text-gray-900",children:t.insurance.status})]})]})]})]})})]})}):(0,a.jsx)(i.A,{children:(0,a.jsx)("div",{className:"text-center py-12",children:(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Pasien tidak ditemukan"})})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[6711,5037,1028,7316,8441,1517,7358],()=>s(2843)),_N_E=e.O()}]);