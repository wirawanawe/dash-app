(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8971],{9575:(e,t,a)=>{Promise.resolve().then(a.bind(a,7209))},7209:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});var s=a(5155),r=a(2115),l=a(7006),i=a(1536),c=a(5037);function n(){let[e,t]=(0,r.useState)([]),[a,n]=(0,r.useState)(!0),[x,d]=(0,r.useState)("");(0,r.useEffect)(()=>{p()},[]);let p=async()=>{try{n(!0);let e=await fetch("/api/laboratory/results");if(!e.ok)throw Error("Failed to fetch results");let a=await e.json();t(a)}catch(e){console.error("Error:",e),c.Ay.error("Gagal mengambil data hasil laboratorium")}finally{n(!1)}},o=e.filter(e=>e.patientName.toLowerCase().includes(x.toLowerCase())||e.labNumber.toLowerCase().includes(x.toLowerCase())||e.testType.toLowerCase().includes(x.toLowerCase()));return(0,s.jsx)(l.A,{children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold",children:"Hasil Laboratorium"}),(0,s.jsxs)("button",{className:"bg-[#E22345] text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-red-600",onClick:()=>router.push("/laboratory/results/new"),children:[(0,s.jsx)(i.OiG,{})," Tambah Hasil"]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,s.jsx)("div",{className:"flex gap-4 mb-4",children:(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"text",placeholder:"Cari hasil laboratorium...",className:"w-full pl-10 pr-4 py-2 border rounded-lg",value:x,onChange:e=>d(e.target.value)}),(0,s.jsx)(i.KSO,{className:"absolute left-3 top-3 text-gray-400"})]})})}),a?(0,s.jsx)("div",{className:"text-center py-4",children:"Loading..."}):(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"No. Lab"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tanggal"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nama Pasien"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pemeriksaan"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hasil"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Satuan"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nilai Normal"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aksi"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.labNumber}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:new Date(e.date).toLocaleDateString()}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.patientName}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.testType}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.result}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.unit}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.normalValue}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("Selesai"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.status})}),(0,s.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[(0,s.jsx)("button",{className:"text-blue-600 hover:text-blue-900 mr-4",children:"Lihat"}),(0,s.jsx)("button",{className:"text-[#E22345] hover:text-red-700",children:"Print"})]})]},e.id))})]})})]})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[6711,5037,1028,7316,8441,1517,7358],()=>t(9575)),_N_E=e.O()}]);