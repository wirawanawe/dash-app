(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6636],{998:(e,a,s)=>{Promise.resolve().then(s.bind(s,7108))},7108:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>d});var t=s(5155),l=s(2115),r=s(6932),n=s(7006),o=s(5037);function d(){let{user:e,setUser:a}=(0,r.A)(),[s,d]=(0,l.useState)(!1),[i,c]=(0,l.useState)({name:(null==e?void 0:e.name)||"",email:(null==e?void 0:e.email)||"",currentPassword:"",newPassword:"",confirmPassword:""}),m=async s=>{if(s.preventDefault(),i.newPassword!==i.confirmPassword){o.Ay.error("Password baru tidak cocok");return}try{let s=await fetch("/api/profile/update",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}),t=await s.json();if(!s.ok)throw Error(t.message);a({...e,name:i.name,email:i.email}),d(!1),o.Ay.success("Profile berhasil diupdate")}catch(e){o.Ay.error(e.message||"Gagal update profile")}};return(0,t.jsx)(n.A,{children:(0,t.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"max-w-2xl mx-auto bg-white rounded-lg shadow-md p-6",children:[(0,t.jsx)("h1",{className:"text-2xl text-black font-bold mb-6",children:"Profile Settings"}),(0,t.jsxs)("form",{onSubmit:m,children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nama"}),(0,t.jsx)("input",{type:"text",value:i.name,onChange:e=>c({...i,name:e.target.value}),disabled:!s,className:"w-full px-3 py-2 text-black border rounded-lg focus:outline-none focus:border-[#E22345] disabled:bg-gray-100"})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,t.jsx)("input",{type:"email",value:i.email,onChange:e=>c({...i,email:e.target.value}),disabled:!s,className:"w-full px-3 py-2 text-black border rounded-lg focus:outline-none focus:border-[#E22345] disabled:bg-gray-100"})]}),s&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password Saat Ini"}),(0,t.jsx)("input",{type:"password",value:i.currentPassword,onChange:e=>c({...i,currentPassword:e.target.value}),className:"w-full px-3 py-2 text-black border rounded-lg focus:outline-none focus:border-[#E22345]"})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password Baru"}),(0,t.jsx)("input",{type:"password",value:i.newPassword,onChange:e=>c({...i,newPassword:e.target.value}),className:"w-full px-3 py-2 text-black border rounded-lg focus:outline-none focus:border-[#E22345]"})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Konfirmasi Password Baru"}),(0,t.jsx)("input",{type:"password",value:i.confirmPassword,onChange:e=>c({...i,confirmPassword:e.target.value}),className:"w-full px-3 py-2 text-black border rounded-lg focus:outline-none focus:border-[#E22345]"})]})]}),(0,t.jsx)("div",{className:"flex justify-end space-x-4",children:s?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{type:"button",onClick:()=>d(!1),className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-900",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",className:"px-4 py-2 bg-[#E22345] text-white rounded-lg hover:bg-red-600",children:"Save Changes"})]}):(0,t.jsx)("button",{type:"button",onClick:()=>d(!0),className:"px-4 py-2 bg-[#E22345] text-white rounded-lg hover:bg-red-600",children:"Edit Profile"})})]})]})})})}}},e=>{var a=a=>e(e.s=a);e.O(0,[6711,5037,1028,7316,8441,1517,7358],()=>a(998)),_N_E=e.O()}]);