exports.id=5132,exports.ids=[5132],exports.modules={21774:(e,t,s)=>{Promise.resolve().then(s.bind(s,1828))},61526:(e,t,s)=>{Promise.resolve().then(s.bind(s,47544))},63948:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,13219,23)),Promise.resolve().then(s.t.bind(s,34863,23)),Promise.resolve().then(s.t.bind(s,25155,23)),Promise.resolve().then(s.t.bind(s,40802,23)),Promise.resolve().then(s.t.bind(s,9350,23)),Promise.resolve().then(s.t.bind(s,48530,23)),Promise.resolve().then(s.t.bind(s,88921,23))},27500:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,66959,23)),Promise.resolve().then(s.t.bind(s,33875,23)),Promise.resolve().then(s.t.bind(s,88903,23)),Promise.resolve().then(s.t.bind(s,57174,23)),Promise.resolve().then(s.t.bind(s,84178,23)),Promise.resolve().then(s.t.bind(s,87190,23)),Promise.resolve().then(s.t.bind(s,61365,23))},52964:(e,t,s)=>{"use strict";s.d(t,{A:()=>x});var r=s(45512),i=s(58009),l=s(47544),n=s(79334),a=s(44098);let o=()=>{let[e,t]=(0,i.useState)(!1),{user:s,logout:o}=(0,l.A)(),c=(0,n.useRouter)(),[d,m]=(0,i.useState)("");return(0,i.useEffect)(()=>{if(console.log("Current user data:",s),s&&"object"==typeof s){let e=s.name||s.FullName||s.fullName||s.username;e&&"string"==typeof e&&""!==e.trim()?m(e):(m("User"),console.warn("User name not found in user object:",s))}else m("User")},[s]),(0,i.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/auth/me");if(e.ok){let t=await e.json();console.log("Fetched user data:",t)}}catch(e){console.error("Error fetching user data:",e)}})()},[]),(0,r.jsx)("nav",{className:"bg-[#E22345] shadow-md fixed w-full z-10",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4",children:(0,r.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)("span",{className:"text-xl font-semibold text-white",children:"Dashboard"})}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("button",{className:"p-2 rounded-full hover:bg-red-600",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("button",{onClick:()=>{t(!e)},className:"flex items-center space-x-2 text-white bg-red-600 hover:bg-red-700 py-2 px-3 rounded-full focus:outline-none transition-colors",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex items-center justify-center h-8 w-8 rounded-full bg-white text-red-600 font-semibold mr-2",children:d&&"User"!==d?d.charAt(0).toUpperCase():"U"}),(0,r.jsx)("span",{className:"hidden md:inline",children:d||"User"}),(0,r.jsx)(a.z44,{className:"ml-2"})]})}),e&&(0,r.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50",children:[(0,r.jsx)("button",{onClick:()=>{c.push("/profile"),t(!1)},className:"block w-full text-left px-4 py-2 text-sm text-black hover:bg-gray-100",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("svg",{className:"mr-3 h-5 w-5 text-black",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),(0,r.jsx)("p",{className:"text-black",children:"Profile Settings"})]})}),(0,r.jsx)("button",{onClick:()=>{o(),t(!1)},className:"block w-full text-left px-4 py-2 text-sm text-black hover:bg-gray-100",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("svg",{className:"mr-3 h-5 w-5 text-black",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),(0,r.jsx)("p",{className:"text-black",children:"Logout"})]})})]})]})]})]})})})};var c=s(28531),d=s.n(c);let m=()=>{let{user:e}=(0,l.A)(),[t,s]=(0,i.useState)(null),n=[{title:"Dashboard",icon:(0,r.jsx)(a.rQ8,{}),path:"/dashboard"},{section:"Pelayanan Medis",items:[{title:"Kunjungan",icon:(0,r.jsx)(a.gUT,{}),path:"/visits",roles:["ADMIN","DOCTOR"]},{title:"Pemeriksaan",icon:(0,r.jsx)(a.REg,{}),path:"/examinations",roles:["DOCTOR"]}]},{title:"Pasien",icon:(0,r.jsx)(a.AvB,{}),path:"/patients"},{title:"Dokter",icon:(0,r.jsx)(a.ifA,{}),path:"/doctors"},{title:"Klinik",icon:(0,r.jsx)(a.dr3,{}),path:"/clinics"},(e?.role==="ADMIN"||e?.role==="admin")&&{title:"Pengguna",icon:(0,r.jsx)(a.YXz,{}),path:"/users"},e?.role==="ADMIN"&&{title:"Settings",icon:(0,r.jsx)(a.Pcn,{}),path:"/settings"},e?.role==="PHARMACIST"&&{title:"Farmasi",icon:(0,r.jsx)(a.I1M,{}),path:"/pharmacy"},{title:"Laboratorium",icon:(0,r.jsx)(a.XcJ,{}),submenu:[{title:"Hasil Laboratorium",path:"/laboratory/results"}]}].filter(Boolean),o=e=>{s(t===e?null:e)};return(0,r.jsx)("div",{className:"bg-[#E22345] text-white w-64 min-h-screen fixed left-0",children:(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-8",children:"Admin Panel"}),(0,r.jsx)("ul",{children:n.map((e,s)=>(0,r.jsx)("li",{className:"mb-4",children:e.section?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"text-sm font-semibold mb-2 px-2 text-gray-300",children:e.section}),(0,r.jsx)("ul",{className:"ml-2",children:e.items.map((e,t)=>(0,r.jsx)("li",{className:"mb-2",children:(0,r.jsxs)(d(),{href:e.path,className:"flex items-center p-2 rounded-lg hover:bg-gray-700 transition-colors",children:[(0,r.jsx)("span",{className:"mr-3",children:e.icon}),(0,r.jsx)("span",{children:e.title})]})},t))})]}):e.submenu?(0,r.jsxs)("div",{children:[(0,r.jsxs)("button",{onClick:()=>o(e.title),className:"w-full flex items-center justify-between p-2 rounded-lg hover:bg-gray-700 transition-colors",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("span",{className:"mr-3",children:e.icon}),(0,r.jsx)("span",{children:e.title})]}),(0,r.jsx)("span",{children:t===e.title?(0,r.jsx)(a.Ucs,{size:12}):(0,r.jsx)(a.Vr3,{size:12})})]}),t===e.title&&(0,r.jsx)("ul",{className:"ml-8 mt-2",children:e.submenu.map((e,t)=>(0,r.jsx)("li",{className:"mb-2",children:(0,r.jsx)(d(),{href:e.path,className:"flex items-center p-2 rounded-lg hover:bg-gray-700 transition-colors text-sm",children:e.title})},t))})]}):(0,r.jsxs)(d(),{href:e.path,className:"flex items-center p-2 rounded-lg hover:bg-gray-700 transition-colors",children:[(0,r.jsx)("span",{className:"mr-3",children:e.icon}),(0,r.jsx)("span",{children:e.title})]})},s))})]})})},h=()=>{let[e,t]=(0,i.useState)(new Date);return(0,i.useEffect)(()=>{let e=setInterval(()=>{t(new Date)},1e3);return()=>clearInterval(e)},[]),(0,r.jsx)("footer",{className:"bg-[#E22345] shadow-md mt-auto fixed bottom-0 right-0 w-[calc(100%-16rem)] h-16 z-10",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto py-4 px-4 h-full flex justify-between items-center",children:[(0,r.jsx)("div",{className:"text-white",children:"\xa9 2025 Your Company. All rights reserved."}),(0,r.jsx)("div",{className:"text-white font-medium",children:e.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit",second:"2-digit"})})]})})},x=({children:e})=>(0,r.jsxs)("div",{className:"flex min-h-screen bg-gray-100",children:[(0,r.jsx)(m,{}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col ml-64",children:[(0,r.jsx)(o,{}),(0,r.jsx)("main",{className:"flex-1 p-6 mt-16 pb-24 min-h-[calc(100vh-4rem)]",children:e}),(0,r.jsx)(h,{})]})]})},47544:(e,t,s)=>{"use strict";s.d(t,{A:()=>o,Providers:()=>c});var r=s(45512),i=s(58009),l=s(79334),n=s(22403);let a=(0,i.createContext)();function o(){return(0,i.useContext)(a)}function c({children:e}){let[t,s]=(0,i.useState)(null),[o,c]=(0,i.useState)(!0),d=(0,l.useRouter)();(0,l.usePathname)();let[m,h]=(0,i.useState)(Date.now()),x=async()=>{try{if(!(await fetch("/api/auth/logout",{method:"POST",credentials:"include"})).ok)throw Error("Logout request failed");s(null),d.push("/login")}catch(e){console.error("Logout failed:",e),s(null),d.push("/login")}};return o?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-[#E22345]"})}):(0,r.jsxs)(a.Provider,{value:{user:t,setUser:s,logout:x},children:[e,(0,r.jsx)(n.l$,{position:"top-right"})]})}},1828:(e,t,s)=>{"use strict";s.d(t,{Providers:()=>i});var r=s(46760);(0,r.registerClientReference)(function(){throw Error("Attempted to call useAuth() from the server but useAuth is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Volumes/Data-2/PHC/Project/dash-app/components/Providers.jsx","useAuth");let i=(0,r.registerClientReference)(function(){throw Error("Attempted to call Providers() from the server but Providers is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Volumes/Data-2/PHC/Project/dash-app/components/Providers.jsx","Providers")},46055:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(88077);let i=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},82704:()=>{},38301:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a,metadata:()=>n});var r=s(62740),i=s(69792);s(82704);var l=s(1828);let n={title:"Doctor PHC Report",description:"Doctor PHC Report"};function a({children:e}){return(0,r.jsx)("html",{lang:"en",children:(0,r.jsx)("body",{className:i.className,children:(0,r.jsx)(l.Providers,{children:e})})})}}};