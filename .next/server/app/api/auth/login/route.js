/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/auth/login/route";
exports.ids = ["app/api/auth/login/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/mysql2/lib sync recursive ^cardinal.*$":
/*!****************************************************!*\
  !*** ./node_modules/mysql2/lib/ sync ^cardinal.*$ ***!
  \****************************************************/
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = "(rsc)/./node_modules/mysql2/lib sync recursive ^cardinal.*$";
module.exports = webpackEmptyContext;

/***/ }),

/***/ "bcrypt":
/*!*************************!*\
  !*** external "bcrypt" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("bcrypt");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "process":
/*!**************************!*\
  !*** external "process" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("process");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "string_decoder":
/*!*********************************!*\
  !*** external "string_decoder" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("string_decoder");

/***/ }),

/***/ "timers":
/*!*************************!*\
  !*** external "timers" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("timers");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fauth%2Flogin%2Froute&page=%2Fapi%2Fauth%2Flogin%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Flogin%2Froute.js&appDir=%2FVolumes%2FData-2%2FPHC%2FProject%2Fdash-app%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FVolumes%2FData-2%2FPHC%2FProject%2Fdash-app&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fauth%2Flogin%2Froute&page=%2Fapi%2Fauth%2Flogin%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Flogin%2Froute.js&appDir=%2FVolumes%2FData-2%2FPHC%2FProject%2Fdash-app%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FVolumes%2FData-2%2FPHC%2FProject%2Fdash-app&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Volumes_Data_2_PHC_Project_dash_app_app_api_auth_login_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/auth/login/route.js */ \"(rsc)/./app/api/auth/login/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/auth/login/route\",\n        pathname: \"/api/auth/login\",\n        filename: \"route\",\n        bundlePath: \"app/api/auth/login/route\"\n    },\n    resolvedPagePath: \"/Volumes/Data-2/PHC/Project/dash-app/app/api/auth/login/route.js\",\n    nextConfigOutput,\n    userland: _Volumes_Data_2_PHC_Project_dash_app_app_api_auth_login_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZhdXRoJTJGbG9naW4lMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmF1dGglMkZsb2dpbiUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmF1dGglMkZsb2dpbiUyRnJvdXRlLmpzJmFwcERpcj0lMkZWb2x1bWVzJTJGRGF0YS0yJTJGUEhDJTJGUHJvamVjdCUyRmRhc2gtYXBwJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZWb2x1bWVzJTJGRGF0YS0yJTJGUEhDJTJGUHJvamVjdCUyRmRhc2gtYXBwJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNxQjtBQUNnQjtBQUM3RjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IseUdBQW1CO0FBQzNDO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNEQUFzRDtBQUM5RDtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUMwRjs7QUFFMUYiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1ZvbHVtZXMvRGF0YS0yL1BIQy9Qcm9qZWN0L2Rhc2gtYXBwL2FwcC9hcGkvYXV0aC9sb2dpbi9yb3V0ZS5qc1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYXV0aC9sb2dpbi9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2F1dGgvbG9naW5cIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2F1dGgvbG9naW4vcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVm9sdW1lcy9EYXRhLTIvUEhDL1Byb2plY3QvZGFzaC1hcHAvYXBwL2FwaS9hdXRoL2xvZ2luL3JvdXRlLmpzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgd29ya0FzeW5jU3RvcmFnZSxcbiAgICAgICAgd29ya1VuaXRBc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fauth%2Flogin%2Froute&page=%2Fapi%2Fauth%2Flogin%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Flogin%2Froute.js&appDir=%2FVolumes%2FData-2%2FPHC%2FProject%2Fdash-app%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FVolumes%2FData-2%2FPHC%2FProject%2Fdash-app&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./app/api/auth/login/route.js":
/*!*************************************!*\
  !*** ./app/api/auth/login/route.js ***!
  \*************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jose */ \"(rsc)/./node_modules/jose/dist/webapi/jwt/sign.js\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./lib/db.js\");\n/* harmony import */ var bcrypt__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! bcrypt */ \"bcrypt\");\n\n\n\n\nasync function POST(request) {\n    try {\n        // console.log(\"JWT_SECRET in login API:\", !!process.env.JWT_SECRET);\n        if (false) {}\n        const { email, password } = await request.json();\n        // console.log(\"Login attempt for email:\", email);\n        // Validasi input\n        if (!email || !password) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                message: \"Email dan password harus diisi\"\n            }, {\n                status: 400\n            });\n        }\n        // Admin fallback untuk testing saat database belum siap\n        if (email === \"admin@phc.com\" && password === \"admin123\") {\n            // console.log(\"Admin login detected\");\n            const adminUser = {\n                id: \"admin-001\",\n                name: \"Administrator\",\n                email: \"admin@phc.com\",\n                role: \"ADMIN\",\n                clinic_id: null,\n                clinic: null\n            };\n            // Create a JWT token\n            const token = await new jose__WEBPACK_IMPORTED_MODULE_3__.SignJWT({\n                userId: adminUser.id,\n                id: adminUser.id,\n                name: adminUser.name,\n                email: adminUser.email,\n                role: adminUser.role,\n                clinic_id: null\n            }).setProtectedHeader({\n                alg: \"HS256\"\n            }).setIssuedAt().setExpirationTime(\"1d\").sign(new TextEncoder().encode(\"your-secure-jwt-secret-key-here\"));\n            // console.log(\"Admin token generated successfully\");\n            const response = next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: true,\n                message: \"Login berhasil\",\n                user: adminUser\n            }, {\n                status: 200\n            });\n            const cookieOptions = {\n                httpOnly: true,\n                secure: \"development\" === \"production\",\n                sameSite: \"strict\",\n                maxAge: 86400,\n                path: \"/\"\n            };\n            response.cookies.set(\"token\", token, cookieOptions);\n            response.cookies.set(\"lastActivity\", Date.now().toString(), cookieOptions);\n            return response;\n        }\n        try {\n            // Cari user di database dengan informasi klinik\n            const [user] = await (0,_lib_db__WEBPACK_IMPORTED_MODULE_1__.query)(`SELECT u.id, u.name, u.email, u.password, u.role, u.is_active, u.clinic_id, \n          c.name as clinic_name, c.code as clinic_code \n        FROM users u \n        LEFT JOIN clinics c ON u.clinic_id = c.id \n        WHERE u.email = ?`, [\n                email\n            ]);\n            if (!user) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    success: false,\n                    message: \"Email atau password salah\"\n                }, {\n                    status: 401\n                });\n            }\n            // Cek apakah user aktif\n            if (!user.is_active) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    success: false,\n                    message: \"Akun anda tidak aktif. Silahkan hubungi administrator.\"\n                }, {\n                    status: 401\n                });\n            }\n            // Verifikasi password\n            const isPasswordValid = await bcrypt__WEBPACK_IMPORTED_MODULE_2__.compare(password, user.password);\n            if (!isPasswordValid) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    success: false,\n                    message: \"Email atau password salah\"\n                }, {\n                    status: 401\n                });\n            }\n            // Create a JWT token\n            const token = await new jose__WEBPACK_IMPORTED_MODULE_3__.SignJWT({\n                userId: user.id,\n                id: user.id,\n                name: user.name,\n                email: user.email,\n                role: user.role.toUpperCase(),\n                clinic_id: user.clinic_id\n            }).setProtectedHeader({\n                alg: \"HS256\"\n            }).setIssuedAt().setExpirationTime(\"1d\").sign(new TextEncoder().encode(\"your-secure-jwt-secret-key-here\"));\n            // Format response user\n            const userData = {\n                id: user.id,\n                name: user.name,\n                email: user.email,\n                role: user.role.toUpperCase(),\n                clinic_id: user.clinic_id,\n                clinic: user.clinic_id ? {\n                    id: user.clinic_id,\n                    name: user.clinic_name,\n                    code: user.clinic_code\n                } : null\n            };\n            const response = next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: true,\n                message: \"Login berhasil\",\n                user: userData\n            }, {\n                status: 200\n            });\n            const cookieOptions = {\n                httpOnly: true,\n                secure: \"development\" === \"production\",\n                sameSite: \"strict\",\n                maxAge: 86400,\n                path: \"/\"\n            };\n            response.cookies.set(\"token\", token, cookieOptions);\n            response.cookies.set(\"lastActivity\", Date.now().toString(), cookieOptions);\n            return response;\n        } catch (dbError) {\n            // console.error(\"Database error during login:\", dbError);\n            // Fallback to hardcoded admin if database error\n            if (email === \"admin@phc.com\" && password === \"admin123\") {\n                // console.log(\"Fallback to admin login after database error\");\n                // Create the same response as above for admin\n                // ... implementation same as above admin login ...\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    success: false,\n                    message: \"Database error. Only hardcoded admin login available.\"\n                }, {\n                    status: 500\n                });\n            }\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                message: \"Database error: \" + (dbError.message || \"Unknown error\")\n            }, {\n                status: 500\n            });\n        }\n    } catch (error) {\n        console.error(\"Login error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Authentication failed\"\n        }, {\n            status: 401\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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R0MsUUFBUSxJQUNuQlY7WUFHRixPQUFPRjtRQUNULEVBQUUsT0FBT3FCLFNBQVM7WUFDaEIsMERBQTBEO1lBRTFELGdEQUFnRDtZQUNoRCxJQUFJdEMsVUFBVSxtQkFBbUJDLGFBQWEsWUFBWTtnQkFDeEQsK0RBQStEO2dCQUUvRCw4Q0FBOEM7Z0JBQzlDLG1EQUFtRDtnQkFFbkQsT0FBT2QscURBQVlBLENBQUNTLElBQUksQ0FDdEI7b0JBQ0VDLFNBQVM7b0JBQ1RDLFNBQVM7Z0JBQ1gsR0FDQTtvQkFBRUMsUUFBUTtnQkFBSTtZQUVsQjtZQUVBLE9BQU9aLHFEQUFZQSxDQUFDUyxJQUFJLENBQ3RCO2dCQUNFQyxTQUFTO2dCQUNUQyxTQUFTLHFCQUFzQndDLENBQUFBLFFBQVF4QyxPQUFPLElBQUksZUFBYztZQUNsRSxHQUNBO2dCQUFFQyxRQUFRO1lBQUk7UUFFbEI7SUFDRixFQUFFLE9BQU93QyxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyxnQkFBZ0JBO1FBQzlCLE9BQU9wRCxxREFBWUEsQ0FBQ1MsSUFBSSxDQUN0QjtZQUFFMkMsT0FBTztRQUF3QixHQUNqQztZQUFFeEMsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIi9Wb2x1bWVzL0RhdGEtMi9QSEMvUHJvamVjdC9kYXNoLWFwcC9hcHAvYXBpL2F1dGgvbG9naW4vcm91dGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvc2VydmVyXCI7XG5pbXBvcnQgeyBTaWduSldUIH0gZnJvbSBcImpvc2VcIjtcbmltcG9ydCB7IHF1ZXJ5IH0gZnJvbSBcIkAvbGliL2RiXCI7XG5pbXBvcnQgYmNyeXB0IGZyb20gXCJiY3J5cHRcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdCkge1xuICB0cnkge1xuICAgIC8vIGNvbnNvbGUubG9nKFwiSldUX1NFQ1JFVCBpbiBsb2dpbiBBUEk6XCIsICEhcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCk7XG5cbiAgICBpZiAoIXByb2Nlc3MuZW52LkpXVF9TRUNSRVQpIHtcbiAgICAgIC8vIGNvbnNvbGUuZXJyb3IoXCJKV1RfU0VDUkVUIGlzIG5vdCBkZWZpbmVkIGluIGVudmlyb25tZW50IHZhcmlhYmxlc1wiKTtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIG1lc3NhZ2U6IFwiU2VydmVyIGNvbmZpZ3VyYXRpb24gZXJyb3I6IEpXVF9TRUNSRVQgbWlzc2luZ1wiLFxuICAgICAgICB9LFxuICAgICAgICB7IHN0YXR1czogNTAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xuICAgIC8vIGNvbnNvbGUubG9nKFwiTG9naW4gYXR0ZW1wdCBmb3IgZW1haWw6XCIsIGVtYWlsKTtcblxuICAgIC8vIFZhbGlkYXNpIGlucHV0XG4gICAgaWYgKCFlbWFpbCB8fCAhcGFzc3dvcmQpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIG1lc3NhZ2U6IFwiRW1haWwgZGFuIHBhc3N3b3JkIGhhcnVzIGRpaXNpXCIsXG4gICAgICAgIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBBZG1pbiBmYWxsYmFjayB1bnR1ayB0ZXN0aW5nIHNhYXQgZGF0YWJhc2UgYmVsdW0gc2lhcFxuICAgIGlmIChlbWFpbCA9PT0gXCJhZG1pbkBwaGMuY29tXCIgJiYgcGFzc3dvcmQgPT09IFwiYWRtaW4xMjNcIikge1xuICAgICAgLy8gY29uc29sZS5sb2coXCJBZG1pbiBsb2dpbiBkZXRlY3RlZFwiKTtcblxuICAgICAgY29uc3QgYWRtaW5Vc2VyID0ge1xuICAgICAgICBpZDogXCJhZG1pbi0wMDFcIixcbiAgICAgICAgbmFtZTogXCJBZG1pbmlzdHJhdG9yXCIsXG4gICAgICAgIGVtYWlsOiBcImFkbWluQHBoYy5jb21cIixcbiAgICAgICAgcm9sZTogXCJBRE1JTlwiLFxuICAgICAgICBjbGluaWNfaWQ6IG51bGwsXG4gICAgICAgIGNsaW5pYzogbnVsbCxcbiAgICAgIH07XG5cbiAgICAgIC8vIENyZWF0ZSBhIEpXVCB0b2tlblxuICAgICAgY29uc3QgdG9rZW4gPSBhd2FpdCBuZXcgU2lnbkpXVCh7XG4gICAgICAgIHVzZXJJZDogYWRtaW5Vc2VyLmlkLFxuICAgICAgICBpZDogYWRtaW5Vc2VyLmlkLFxuICAgICAgICBuYW1lOiBhZG1pblVzZXIubmFtZSxcbiAgICAgICAgZW1haWw6IGFkbWluVXNlci5lbWFpbCxcbiAgICAgICAgcm9sZTogYWRtaW5Vc2VyLnJvbGUsXG4gICAgICAgIGNsaW5pY19pZDogbnVsbCwgLy8gQWRtaW4gY2FuIHNlZSBhbGwgY2xpbmljc1xuICAgICAgfSlcbiAgICAgICAgLnNldFByb3RlY3RlZEhlYWRlcih7IGFsZzogXCJIUzI1NlwiIH0pXG4gICAgICAgIC5zZXRJc3N1ZWRBdCgpXG4gICAgICAgIC5zZXRFeHBpcmF0aW9uVGltZShcIjFkXCIpXG4gICAgICAgIC5zaWduKG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShwcm9jZXNzLmVudi5KV1RfU0VDUkVUKSk7XG5cbiAgICAgIC8vIGNvbnNvbGUubG9nKFwiQWRtaW4gdG9rZW4gZ2VuZXJhdGVkIHN1Y2Nlc3NmdWxseVwiKTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAge1xuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgbWVzc2FnZTogXCJMb2dpbiBiZXJoYXNpbFwiLFxuICAgICAgICAgIHVzZXI6IGFkbWluVXNlcixcbiAgICAgICAgfSxcbiAgICAgICAgeyBzdGF0dXM6IDIwMCB9XG4gICAgICApO1xuXG4gICAgICBjb25zdCBjb29raWVPcHRpb25zID0ge1xuICAgICAgICBodHRwT25seTogdHJ1ZSxcbiAgICAgICAgc2VjdXJlOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIsXG4gICAgICAgIHNhbWVTaXRlOiBcInN0cmljdFwiLFxuICAgICAgICBtYXhBZ2U6IDg2NDAwLCAvLyAxIGRheVxuICAgICAgICBwYXRoOiBcIi9cIixcbiAgICAgIH07XG5cbiAgICAgIHJlc3BvbnNlLmNvb2tpZXMuc2V0KFwidG9rZW5cIiwgdG9rZW4sIGNvb2tpZU9wdGlvbnMpO1xuICAgICAgcmVzcG9uc2UuY29va2llcy5zZXQoXG4gICAgICAgIFwibGFzdEFjdGl2aXR5XCIsXG4gICAgICAgIERhdGUubm93KCkudG9TdHJpbmcoKSxcbiAgICAgICAgY29va2llT3B0aW9uc1xuICAgICAgKTtcblxuICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAvLyBDYXJpIHVzZXIgZGkgZGF0YWJhc2UgZGVuZ2FuIGluZm9ybWFzaSBrbGluaWtcbiAgICAgIGNvbnN0IFt1c2VyXSA9IGF3YWl0IHF1ZXJ5KFxuICAgICAgICBgU0VMRUNUIHUuaWQsIHUubmFtZSwgdS5lbWFpbCwgdS5wYXNzd29yZCwgdS5yb2xlLCB1LmlzX2FjdGl2ZSwgdS5jbGluaWNfaWQsIFxuICAgICAgICAgIGMubmFtZSBhcyBjbGluaWNfbmFtZSwgYy5jb2RlIGFzIGNsaW5pY19jb2RlIFxuICAgICAgICBGUk9NIHVzZXJzIHUgXG4gICAgICAgIExFRlQgSk9JTiBjbGluaWNzIGMgT04gdS5jbGluaWNfaWQgPSBjLmlkIFxuICAgICAgICBXSEVSRSB1LmVtYWlsID0gP2AsXG4gICAgICAgIFtlbWFpbF1cbiAgICAgICk7XG5cbiAgICAgIGlmICghdXNlcikge1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgICAge1xuICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICBtZXNzYWdlOiBcIkVtYWlsIGF0YXUgcGFzc3dvcmQgc2FsYWhcIixcbiAgICAgICAgICB9LFxuICAgICAgICAgIHsgc3RhdHVzOiA0MDEgfVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICAvLyBDZWsgYXBha2FoIHVzZXIgYWt0aWZcbiAgICAgIGlmICghdXNlci5pc19hY3RpdmUpIHtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgbWVzc2FnZTogXCJBa3VuIGFuZGEgdGlkYWsgYWt0aWYuIFNpbGFoa2FuIGh1YnVuZ2kgYWRtaW5pc3RyYXRvci5cIixcbiAgICAgICAgICB9LFxuICAgICAgICAgIHsgc3RhdHVzOiA0MDEgfVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICAvLyBWZXJpZmlrYXNpIHBhc3N3b3JkXG4gICAgICBjb25zdCBpc1Bhc3N3b3JkVmFsaWQgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgdXNlci5wYXNzd29yZCk7XG5cbiAgICAgIGlmICghaXNQYXNzd29yZFZhbGlkKSB7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgICB7XG4gICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiRW1haWwgYXRhdSBwYXNzd29yZCBzYWxhaFwiLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgeyBzdGF0dXM6IDQwMSB9XG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIC8vIENyZWF0ZSBhIEpXVCB0b2tlblxuICAgICAgY29uc3QgdG9rZW4gPSBhd2FpdCBuZXcgU2lnbkpXVCh7XG4gICAgICAgIHVzZXJJZDogdXNlci5pZCxcbiAgICAgICAgaWQ6IHVzZXIuaWQsXG4gICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICAgIHJvbGU6IHVzZXIucm9sZS50b1VwcGVyQ2FzZSgpLFxuICAgICAgICBjbGluaWNfaWQ6IHVzZXIuY2xpbmljX2lkLCAvLyBJbmNsdWRlIGNsaW5pY19pZCBpbiB0aGUgdG9rZW5cbiAgICAgIH0pXG4gICAgICAgIC5zZXRQcm90ZWN0ZWRIZWFkZXIoeyBhbGc6IFwiSFMyNTZcIiB9KVxuICAgICAgICAuc2V0SXNzdWVkQXQoKVxuICAgICAgICAuc2V0RXhwaXJhdGlvblRpbWUoXCIxZFwiKVxuICAgICAgICAuc2lnbihuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUocHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCkpO1xuXG4gICAgICAvLyBGb3JtYXQgcmVzcG9uc2UgdXNlclxuICAgICAgY29uc3QgdXNlckRhdGEgPSB7XG4gICAgICAgIGlkOiB1c2VyLmlkLFxuICAgICAgICBuYW1lOiB1c2VyLm5hbWUsXG4gICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICByb2xlOiB1c2VyLnJvbGUudG9VcHBlckNhc2UoKSxcbiAgICAgICAgY2xpbmljX2lkOiB1c2VyLmNsaW5pY19pZCxcbiAgICAgICAgY2xpbmljOiB1c2VyLmNsaW5pY19pZFxuICAgICAgICAgID8ge1xuICAgICAgICAgICAgICBpZDogdXNlci5jbGluaWNfaWQsXG4gICAgICAgICAgICAgIG5hbWU6IHVzZXIuY2xpbmljX25hbWUsXG4gICAgICAgICAgICAgIGNvZGU6IHVzZXIuY2xpbmljX2NvZGUsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgOiBudWxsLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAge1xuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgbWVzc2FnZTogXCJMb2dpbiBiZXJoYXNpbFwiLFxuICAgICAgICAgIHVzZXI6IHVzZXJEYXRhLFxuICAgICAgICB9LFxuICAgICAgICB7IHN0YXR1czogMjAwIH1cbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IGNvb2tpZU9wdGlvbnMgPSB7XG4gICAgICAgIGh0dHBPbmx5OiB0cnVlLFxuICAgICAgICBzZWN1cmU6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIixcbiAgICAgICAgc2FtZVNpdGU6IFwic3RyaWN0XCIsXG4gICAgICAgIG1heEFnZTogODY0MDAsIC8vIDEgZGF5XG4gICAgICAgIHBhdGg6IFwiL1wiLFxuICAgICAgfTtcblxuICAgICAgcmVzcG9uc2UuY29va2llcy5zZXQoXCJ0b2tlblwiLCB0b2tlbiwgY29va2llT3B0aW9ucyk7XG4gICAgICByZXNwb25zZS5jb29raWVzLnNldChcbiAgICAgICAgXCJsYXN0QWN0aXZpdHlcIixcbiAgICAgICAgRGF0ZS5ub3coKS50b1N0cmluZygpLFxuICAgICAgICBjb29raWVPcHRpb25zXG4gICAgICApO1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfSBjYXRjaCAoZGJFcnJvcikge1xuICAgICAgLy8gY29uc29sZS5lcnJvcihcIkRhdGFiYXNlIGVycm9yIGR1cmluZyBsb2dpbjpcIiwgZGJFcnJvcik7XG5cbiAgICAgIC8vIEZhbGxiYWNrIHRvIGhhcmRjb2RlZCBhZG1pbiBpZiBkYXRhYmFzZSBlcnJvclxuICAgICAgaWYgKGVtYWlsID09PSBcImFkbWluQHBoYy5jb21cIiAmJiBwYXNzd29yZCA9PT0gXCJhZG1pbjEyM1wiKSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiRmFsbGJhY2sgdG8gYWRtaW4gbG9naW4gYWZ0ZXIgZGF0YWJhc2UgZXJyb3JcIik7XG5cbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBzYW1lIHJlc3BvbnNlIGFzIGFib3ZlIGZvciBhZG1pblxuICAgICAgICAvLyAuLi4gaW1wbGVtZW50YXRpb24gc2FtZSBhcyBhYm92ZSBhZG1pbiBsb2dpbiAuLi5cblxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgICAge1xuICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICBtZXNzYWdlOiBcIkRhdGFiYXNlIGVycm9yLiBPbmx5IGhhcmRjb2RlZCBhZG1pbiBsb2dpbiBhdmFpbGFibGUuXCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7IHN0YXR1czogNTAwIH1cbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgbWVzc2FnZTogXCJEYXRhYmFzZSBlcnJvcjogXCIgKyAoZGJFcnJvci5tZXNzYWdlIHx8IFwiVW5rbm93biBlcnJvclwiKSxcbiAgICAgICAgfSxcbiAgICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgICApO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiTG9naW4gZXJyb3I6XCIsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IGVycm9yOiBcIkF1dGhlbnRpY2F0aW9uIGZhaWxlZFwiIH0sXG4gICAgICB7IHN0YXR1czogNDAxIH1cbiAgICApO1xuICB9XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiU2lnbkpXVCIsInF1ZXJ5IiwiYmNyeXB0IiwiUE9TVCIsInJlcXVlc3QiLCJwcm9jZXNzIiwiZW52IiwiSldUX1NFQ1JFVCIsImpzb24iLCJzdWNjZXNzIiwibWVzc2FnZSIsInN0YXR1cyIsImVtYWlsIiwicGFzc3dvcmQiLCJhZG1pblVzZXIiLCJpZCIsIm5hbWUiLCJyb2xlIiwiY2xpbmljX2lkIiwiY2xpbmljIiwidG9rZW4iLCJ1c2VySWQiLCJzZXRQcm90ZWN0ZWRIZWFkZXIiLCJhbGciLCJzZXRJc3N1ZWRBdCIsInNldEV4cGlyYXRpb25UaW1lIiwic2lnbiIsIlRleHRFbmNvZGVyIiwiZW5jb2RlIiwicmVzcG9uc2UiLCJ1c2VyIiwiY29va2llT3B0aW9ucyIsImh0dHBPbmx5Iiwic2VjdXJlIiwic2FtZVNpdGUiLCJtYXhBZ2UiLCJwYXRoIiwiY29va2llcyIsInNldCIsIkRhdGUiLCJub3ciLCJ0b1N0cmluZyIsImlzX2FjdGl2ZSIsImlzUGFzc3dvcmRWYWxpZCIsImNvbXBhcmUiLCJ0b1VwcGVyQ2FzZSIsInVzZXJEYXRhIiwiY2xpbmljX25hbWUiLCJjb2RlIiwiY2xpbmljX2NvZGUiLCJkYkVycm9yIiwiZXJyb3IiLCJjb25zb2xlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/auth/login/route.js\n");

/***/ }),

/***/ "(rsc)/./lib/db.js":
/*!*******************!*\
  !*** ./lib/db.js ***!
  \*******************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getConnection: () => (/* binding */ getConnection),\n/* harmony export */   query: () => (/* binding */ query),\n/* harmony export */   rawQuery: () => (/* binding */ rawQuery),\n/* harmony export */   validateConnection: () => (/* binding */ validateConnection)\n/* harmony export */ });\n/* harmony import */ var mysql2_promise__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mysql2/promise */ \"(rsc)/./node_modules/mysql2/promise.js\");\n/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dotenv */ \"(rsc)/./node_modules/dotenv/lib/main.js\");\n/* harmony import */ var url__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! url */ \"url\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! path */ \"path\");\n\n\n\n\n// Dapatkan path absolut ke root project\nconst __filename = (0,url__WEBPACK_IMPORTED_MODULE_2__.fileURLToPath)(\"file:///Volumes/Data-2/PHC/Project/dash-app/lib/db.js\");\nconst __dirname = (0,path__WEBPACK_IMPORTED_MODULE_3__.dirname)(__filename);\nconst rootDir = (0,path__WEBPACK_IMPORTED_MODULE_3__.resolve)(__dirname, \"..\");\n// Load environment variables dengan path absolut\ndotenv__WEBPACK_IMPORTED_MODULE_1__.config({\n    path: (0,path__WEBPACK_IMPORTED_MODULE_3__.resolve)(rootDir, \".env\")\n});\n// Log database configuration for debugging\nconsole.log(\"Database configuration:\", {\n    host: \"localhost\" || 0,\n    user: \"root\" || 0,\n    database: \"phc_dashboard\" || 0\n});\n// Konfigurasi database\nconst dbConfig = {\n    host: \"localhost\" || 0,\n    user: \"root\" || 0,\n    password: \"pr1k1t1w\" || 0,\n    database: \"phc_dashboard\" || 0,\n    waitForConnections: true,\n    connectionLimit: 10,\n    queueLimit: 0,\n    // Enable debug mode in development\n    debug: \"development\" === \"development\",\n    // Add connection timeout and error handling\n    connectTimeout: 10000,\n    // Convert LIMIT/OFFSET params to numbers\n    typeCast: function(field, next) {\n        if (field.type === \"TINY\" && field.length === 1) {\n            return field.string() === \"1\"; // convert to boolean\n        }\n        return next();\n    }\n};\n// Pool koneksi untuk digunakan di seluruh aplikasi\nconst pool = mysql2_promise__WEBPACK_IMPORTED_MODULE_0__.createPool(dbConfig);\n// Function untuk mendapatkan koneksi dari pool\nasync function getConnection() {\n    try {\n        return await pool.getConnection();\n    } catch (error) {\n        console.error(\"Error getting DB connection:\", error);\n        throw new Error(\"Database connection failed\");\n    }\n}\n// Query helper dengan error handling (menggunakan prepared statements)\nasync function query(sql, params = []) {\n    try {\n        // Ensure all parameters are properly formatted\n        const formattedParams = params.map((param)=>{\n            if (typeof param === \"number\") {\n                return Number(param); // Make sure number params are properly cast\n            }\n            return param;\n        });\n        console.log(\"Executing SQL with params:\", {\n            sql,\n            formattedParams\n        });\n        const [results] = await pool.execute(sql, formattedParams);\n        return results;\n    } catch (error) {\n        console.error(\"Database query error:\", error);\n        throw error;\n    }\n}\n// Query helper tanpa prepared statements untuk perintah seperti USE DATABASE\nasync function rawQuery(sql) {\n    try {\n        const connection = await getConnection();\n        try {\n            const [results] = await connection.query(sql);\n            return results;\n        } finally{\n            connection.release();\n        }\n    } catch (error) {\n        console.error(\"Database raw query error:\", error);\n        throw error;\n    }\n}\n// Validasi koneksi database pada startup\nasync function validateConnection() {\n    try {\n        const connection = await getConnection();\n        connection.release();\n        console.log(\"Database connection successful\");\n        return true;\n    } catch (error) {\n        console.error(\"Database connection failed:\", error);\n        return false;\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n    query,\n    rawQuery,\n    getConnection,\n    validateConnection\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QywrQkFBK0JBO1FBQzdDLE9BQU87SUFDVDtBQUNGO0FBRUEsaUVBQWU7SUFDYkU7SUFDQVM7SUFDQVo7SUFDQWU7QUFDRixDQUFDLEVBQUMiLCJzb3VyY2VzIjpbIi9Wb2x1bWVzL0RhdGEtMi9QSEMvUHJvamVjdC9kYXNoLWFwcC9saWIvZGIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG15c3FsIGZyb20gXCJteXNxbDIvcHJvbWlzZVwiO1xuaW1wb3J0IGRvdGVudiBmcm9tIFwiZG90ZW52XCI7XG5pbXBvcnQgeyBmaWxlVVJMVG9QYXRoIH0gZnJvbSBcInVybFwiO1xuaW1wb3J0IHsgZGlybmFtZSwgcmVzb2x2ZSB9IGZyb20gXCJwYXRoXCI7XG5cbi8vIERhcGF0a2FuIHBhdGggYWJzb2x1dCBrZSByb290IHByb2plY3RcbmNvbnN0IF9fZmlsZW5hbWUgPSBmaWxlVVJMVG9QYXRoKGltcG9ydC5tZXRhLnVybCk7XG5jb25zdCBfX2Rpcm5hbWUgPSBkaXJuYW1lKF9fZmlsZW5hbWUpO1xuY29uc3Qgcm9vdERpciA9IHJlc29sdmUoX19kaXJuYW1lLCBcIi4uXCIpO1xuXG4vLyBMb2FkIGVudmlyb25tZW50IHZhcmlhYmxlcyBkZW5nYW4gcGF0aCBhYnNvbHV0XG5kb3RlbnYuY29uZmlnKHsgcGF0aDogcmVzb2x2ZShyb290RGlyLCBcIi5lbnZcIikgfSk7XG5cbi8vIExvZyBkYXRhYmFzZSBjb25maWd1cmF0aW9uIGZvciBkZWJ1Z2dpbmdcbmNvbnNvbGUubG9nKFwiRGF0YWJhc2UgY29uZmlndXJhdGlvbjpcIiwge1xuICBob3N0OiBwcm9jZXNzLmVudi5EQl9IT1NUIHx8IFwibG9jYWxob3N0XCIsXG4gIHVzZXI6IHByb2Nlc3MuZW52LkRCX1VTRVIgfHwgXCJyb290XCIsXG4gIGRhdGFiYXNlOiBwcm9jZXNzLmVudi5EQl9OQU1FIHx8IFwicGhjX2Rhc2hib2FyZFwiLFxuICAvLyBEb24ndCBsb2cgdGhlIHBhc3N3b3JkIGZvciBzZWN1cml0eSByZWFzb25zXG59KTtcblxuLy8gS29uZmlndXJhc2kgZGF0YWJhc2VcbmNvbnN0IGRiQ29uZmlnID0ge1xuICBob3N0OiBwcm9jZXNzLmVudi5EQl9IT1NUIHx8IFwibG9jYWxob3N0XCIsXG4gIHVzZXI6IHByb2Nlc3MuZW52LkRCX1VTRVIgfHwgXCJyb290XCIsXG4gIHBhc3N3b3JkOiBwcm9jZXNzLmVudi5EQl9QQVNTV09SRCB8fCBcIlwiLFxuICBkYXRhYmFzZTogcHJvY2Vzcy5lbnYuREJfTkFNRSB8fCBcInBoY19kYXNoYm9hcmRcIixcbiAgd2FpdEZvckNvbm5lY3Rpb25zOiB0cnVlLFxuICBjb25uZWN0aW9uTGltaXQ6IDEwLFxuICBxdWV1ZUxpbWl0OiAwLFxuICAvLyBFbmFibGUgZGVidWcgbW9kZSBpbiBkZXZlbG9wbWVudFxuICBkZWJ1ZzogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwiZGV2ZWxvcG1lbnRcIixcbiAgLy8gQWRkIGNvbm5lY3Rpb24gdGltZW91dCBhbmQgZXJyb3IgaGFuZGxpbmdcbiAgY29ubmVjdFRpbWVvdXQ6IDEwMDAwLCAvLyAxMCBzZWNvbmRzXG4gIC8vIENvbnZlcnQgTElNSVQvT0ZGU0VUIHBhcmFtcyB0byBudW1iZXJzXG4gIHR5cGVDYXN0OiBmdW5jdGlvbiAoZmllbGQsIG5leHQpIHtcbiAgICBpZiAoZmllbGQudHlwZSA9PT0gXCJUSU5ZXCIgJiYgZmllbGQubGVuZ3RoID09PSAxKSB7XG4gICAgICByZXR1cm4gZmllbGQuc3RyaW5nKCkgPT09IFwiMVwiOyAvLyBjb252ZXJ0IHRvIGJvb2xlYW5cbiAgICB9XG4gICAgcmV0dXJuIG5leHQoKTtcbiAgfSxcbn07XG5cbi8vIFBvb2wga29uZWtzaSB1bnR1ayBkaWd1bmFrYW4gZGkgc2VsdXJ1aCBhcGxpa2FzaVxuY29uc3QgcG9vbCA9IG15c3FsLmNyZWF0ZVBvb2woZGJDb25maWcpO1xuXG4vLyBGdW5jdGlvbiB1bnR1ayBtZW5kYXBhdGthbiBrb25la3NpIGRhcmkgcG9vbFxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENvbm5lY3Rpb24oKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGF3YWl0IHBvb2wuZ2V0Q29ubmVjdGlvbigpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBnZXR0aW5nIERCIGNvbm5lY3Rpb246XCIsIGVycm9yKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZFwiKTtcbiAgfVxufVxuXG4vLyBRdWVyeSBoZWxwZXIgZGVuZ2FuIGVycm9yIGhhbmRsaW5nIChtZW5nZ3VuYWthbiBwcmVwYXJlZCBzdGF0ZW1lbnRzKVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHF1ZXJ5KHNxbCwgcGFyYW1zID0gW10pIHtcbiAgdHJ5IHtcbiAgICAvLyBFbnN1cmUgYWxsIHBhcmFtZXRlcnMgYXJlIHByb3Blcmx5IGZvcm1hdHRlZFxuICAgIGNvbnN0IGZvcm1hdHRlZFBhcmFtcyA9IHBhcmFtcy5tYXAoKHBhcmFtKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIHBhcmFtID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHJldHVybiBOdW1iZXIocGFyYW0pOyAvLyBNYWtlIHN1cmUgbnVtYmVyIHBhcmFtcyBhcmUgcHJvcGVybHkgY2FzdFxuICAgICAgfVxuICAgICAgcmV0dXJuIHBhcmFtO1xuICAgIH0pO1xuXG4gICAgY29uc29sZS5sb2coXCJFeGVjdXRpbmcgU1FMIHdpdGggcGFyYW1zOlwiLCB7IHNxbCwgZm9ybWF0dGVkUGFyYW1zIH0pO1xuICAgIGNvbnN0IFtyZXN1bHRzXSA9IGF3YWl0IHBvb2wuZXhlY3V0ZShzcWwsIGZvcm1hdHRlZFBhcmFtcyk7XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkRhdGFiYXNlIHF1ZXJ5IGVycm9yOlwiLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuLy8gUXVlcnkgaGVscGVyIHRhbnBhIHByZXBhcmVkIHN0YXRlbWVudHMgdW50dWsgcGVyaW50YWggc2VwZXJ0aSBVU0UgREFUQUJBU0VcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByYXdRdWVyeShzcWwpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgZ2V0Q29ubmVjdGlvbigpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBbcmVzdWx0c10gPSBhd2FpdCBjb25uZWN0aW9uLnF1ZXJ5KHNxbCk7XG4gICAgICByZXR1cm4gcmVzdWx0cztcbiAgICB9IGZpbmFsbHkge1xuICAgICAgY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJEYXRhYmFzZSByYXcgcXVlcnkgZXJyb3I6XCIsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG4vLyBWYWxpZGFzaSBrb25la3NpIGRhdGFiYXNlIHBhZGEgc3RhcnR1cFxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHZhbGlkYXRlQ29ubmVjdGlvbigpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgZ2V0Q29ubmVjdGlvbigpO1xuICAgIGNvbm5lY3Rpb24ucmVsZWFzZSgpO1xuICAgIGNvbnNvbGUubG9nKFwiRGF0YWJhc2UgY29ubmVjdGlvbiBzdWNjZXNzZnVsXCIpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZDpcIiwgZXJyb3IpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHF1ZXJ5LFxuICByYXdRdWVyeSxcbiAgZ2V0Q29ubmVjdGlvbixcbiAgdmFsaWRhdGVDb25uZWN0aW9uLFxufTtcbiJdLCJuYW1lcyI6WyJteXNxbCIsImRvdGVudiIsImZpbGVVUkxUb1BhdGgiLCJkaXJuYW1lIiwicmVzb2x2ZSIsIl9fZmlsZW5hbWUiLCJ1cmwiLCJfX2Rpcm5hbWUiLCJyb290RGlyIiwiY29uZmlnIiwicGF0aCIsImNvbnNvbGUiLCJsb2ciLCJob3N0IiwicHJvY2VzcyIsImVudiIsIkRCX0hPU1QiLCJ1c2VyIiwiREJfVVNFUiIsImRhdGFiYXNlIiwiREJfTkFNRSIsImRiQ29uZmlnIiwicGFzc3dvcmQiLCJEQl9QQVNTV09SRCIsIndhaXRGb3JDb25uZWN0aW9ucyIsImNvbm5lY3Rpb25MaW1pdCIsInF1ZXVlTGltaXQiLCJkZWJ1ZyIsImNvbm5lY3RUaW1lb3V0IiwidHlwZUNhc3QiLCJmaWVsZCIsIm5leHQiLCJ0eXBlIiwibGVuZ3RoIiwic3RyaW5nIiwicG9vbCIsImNyZWF0ZVBvb2wiLCJnZXRDb25uZWN0aW9uIiwiZXJyb3IiLCJFcnJvciIsInF1ZXJ5Iiwic3FsIiwicGFyYW1zIiwiZm9ybWF0dGVkUGFyYW1zIiwibWFwIiwicGFyYW0iLCJOdW1iZXIiLCJyZXN1bHRzIiwiZXhlY3V0ZSIsInJhd1F1ZXJ5IiwiY29ubmVjdGlvbiIsInJlbGVhc2UiLCJ2YWxpZGF0ZUNvbm5lY3Rpb24iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/db.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/mysql2","vendor-chunks/aws-ssl-profiles","vendor-chunks/iconv-lite","vendor-chunks/long","vendor-chunks/named-placeholders","vendor-chunks/denque","vendor-chunks/dotenv","vendor-chunks/is-property","vendor-chunks/lru.min","vendor-chunks/sqlstring","vendor-chunks/seq-queue","vendor-chunks/generate-function","vendor-chunks/safer-buffer","vendor-chunks/jose"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fauth%2Flogin%2Froute&page=%2Fapi%2Fauth%2Flogin%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Flogin%2Froute.js&appDir=%2FVolumes%2FData-2%2FPHC%2FProject%2Fdash-app%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FVolumes%2FData-2%2FPHC%2FProject%2Fdash-app&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();