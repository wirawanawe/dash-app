(()=>{var e={};e.id=6654,e.ids=[6654],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},79551:e=>{"use strict";e.exports=require("url")},75297:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>o});var r=t(70260),a=t(28203),n=t(25155),i=t.n(n),d=t(67292),l={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);t.d(s,l);let o=["",{children:["patients",{children:["[id]",{children:["edit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,14386)),"/Volumes/Data-2/PHC/Project/dash-app/app/patients/[id]/edit/page.js"]}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,38301)),"/Volumes/Data-2/PHC/Project/dash-app/app/layout.js"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Volumes/Data-2/PHC/Project/dash-app/app/patients/[id]/edit/page.js"],u={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/patients/[id]/edit/page",pathname:"/patients/[id]/edit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},44670:(e,s,t)=>{Promise.resolve().then(t.bind(t,14386))},36422:(e,s,t)=>{Promise.resolve().then(t.bind(t,67098))},70042:(e,s,t)=>{"use strict";t.d(s,{A:()=>d});var r=t(45512),a=t(58009),n=t(79334),i=t(22403);function d({patient:e,isEdit:s=!1}){let t=(0,n.useRouter)(),[d,l]=(0,a.useState)(!1),[o,c]=(0,a.useState)({name:"",nik:"",birthDate:"",gender:"",address:"",phone:"",email:"",provinceId:"",provinceName:"",cityId:"",cityName:"",districtId:"",districtName:"",villageId:"",villageName:"",postalCode:"",companyId:"",insurance:{provider:"",number:"",type:"",status:"Aktif"}}),u=e=>{let{name:s,value:t}=e.target;if(s.startsWith("insurance.")){let e=s.split(".")[1];c(s=>({...s,insurance:{...s.insurance,[e]:t}}))}else c(e=>({...e,[s]:t}))},m=async r=>{r.preventDefault(),l(!0);try{let r=s?`/api/patients/${e.id}`:"/api/patients",a=await fetch(r,{method:s?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),n=await a.json();if(!a.ok)throw Error(n.error||"Gagal menyimpan data pasien");i.Ay.success(s?"Data berhasil diperbarui":"Data berhasil disimpan"),t.push("/patients")}catch(e){console.error("Error:",e),i.Ay.error(e.message)}finally{l(!1)}};return(0,r.jsxs)("form",{onSubmit:m,className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Data Pribadi"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Nama Lengkap"}),(0,r.jsx)("input",{type:"text",name:"name",value:o.name,onChange:u,required:!0,className:"mt-1 block w-full rounded-md border focus:border-[#E22345] focus:ring-[#E22345]"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"NIK"}),(0,r.jsx)("input",{type:"text",name:"nik",value:o.nik,onChange:u,required:!0,className:"mt-1 block w-full rounded-md border focus:border-[#E22345] focus:ring-[#E22345]"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Tanggal Lahir"}),(0,r.jsx)("input",{type:"date",name:"birthDate",value:o.birthDate,onChange:u,required:!0,className:"mt-1 block w-full rounded-md border focus:border-[#E22345] focus:ring-[#E22345]"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Jenis Kelamin"}),(0,r.jsxs)("select",{name:"gender",value:o.gender,onChange:u,required:!0,className:"mt-1 block w-full rounded-md border focus:border-[#E22345] focus:ring-[#E22345]",children:[(0,r.jsx)("option",{value:"",children:"Pilih Jenis Kelamin"}),(0,r.jsx)("option",{value:"Laki-laki",children:"Laki-laki"}),(0,r.jsx)("option",{value:"Perempuan",children:"Perempuan"})]})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Data Kontak"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Alamat"}),(0,r.jsx)("textarea",{name:"address",value:o.address,onChange:u,rows:3,className:"mt-1 block w-full rounded-md border focus:border-[#E22345] focus:ring-[#E22345]"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"No. Telepon"}),(0,r.jsx)("input",{type:"tel",name:"phone",value:o.phone,onChange:u,className:"mt-1 block w-full rounded-md border focus:border-[#E22345] focus:ring-[#E22345]"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,r.jsx)("input",{type:"email",name:"email",value:o.email,onChange:u,className:"mt-1 block w-full rounded-md border focus:border-[#E22345] focus:ring-[#E22345]"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Data Asuransi"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Provider Asuransi"}),(0,r.jsx)("input",{type:"text",name:"insurance.provider",value:o.insurance.provider,onChange:u,className:"mt-1 block w-full rounded-md border focus:border-[#E22345] focus:ring-[#E22345]"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Nomor Asuransi"}),(0,r.jsx)("input",{type:"text",name:"insurance.number",value:o.insurance.number,onChange:u,className:"mt-1 block w-full rounded-md border focus:border-[#E22345] focus:ring-[#E22345]"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Tipe Asuransi"}),(0,r.jsx)("input",{type:"text",name:"insurance.type",value:o.insurance.type,onChange:u,className:"mt-1 block w-full rounded-md border focus:border-[#E22345] focus:ring-[#E22345]"})]})]})]})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,r.jsx)("button",{type:"button",onClick:()=>t.back(),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Batal"}),(0,r.jsx)("button",{type:"submit",disabled:d,className:"px-4 py-2 text-white bg-[#E22345] rounded-md hover:bg-red-600 disabled:bg-gray-400",children:d?"Menyimpan...":s?"Update":"Simpan"})]})]})}},67098:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l});var r=t(45512),a=t(58009),n=t(79334),i=t(52964),d=t(70042);function l(){(0,n.useParams)();let[e,s]=(0,a.useState)(null),[t,l]=(0,a.useState)(!0);return t?(0,r.jsx)(i.A,{children:(0,r.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-[#E22345]"})})}):(0,r.jsx)(i.A,{children:(0,r.jsxs)("div",{className:"container mx-auto px-4 py-6",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Edit Data Pasien"}),(0,r.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,r.jsx)(d.A,{patient:e,isEdit:!0})})]})})}t(22403)},14386:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Volumes/Data-2/PHC/Project/dash-app/app/patients/[id]/edit/page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Volumes/Data-2/PHC/Project/dash-app/app/patients/[id]/edit/page.js","default")}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[5994,4763,8077,8531,4098,5132],()=>t(75297));module.exports=r})();