(()=>{var e={};e.id=8556,e.ids=[8556],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},79551:e=>{"use strict";e.exports=require("url")},18437:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var a=r(70260),t=r(28203),n=r(25155),i=r.n(n),o=r(67292),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(s,l);let d=["",{children:["patients",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,17592)),"/Volumes/Data-2/PHC/Project/dash-app/app/patients/new/page.js"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,38301)),"/Volumes/Data-2/PHC/Project/dash-app/app/layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Volumes/Data-2/PHC/Project/dash-app/app/patients/new/page.js"],u={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:t.RouteKind.APP_PAGE,page:"/patients/new/page",pathname:"/patients/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3308:(e,s,r)=>{Promise.resolve().then(r.bind(r,17592))},66860:(e,s,r)=>{Promise.resolve().then(r.bind(r,92280))},70042:(e,s,r)=>{"use strict";r.d(s,{A:()=>o});var a=r(45512),t=r(58009),n=r(79334),i=r(22403);function o({patient:e,isEdit:s=!1}){let r=(0,n.useRouter)(),[o,l]=(0,t.useState)(!1),[d,c]=(0,t.useState)({name:"",nik:"",birthDate:"",gender:"",address:"",phone:"",email:"",provinceId:"",provinceName:"",cityId:"",cityName:"",districtId:"",districtName:"",villageId:"",villageName:"",postalCode:"",companyId:"",insurance:{provider:"",number:"",type:"",status:"Aktif"}}),u=e=>{let{name:s,value:r}=e.target;if(s.startsWith("insurance.")){let e=s.split(".")[1];c(s=>({...s,insurance:{...s.insurance,[e]:r}}))}else c(e=>({...e,[s]:r}))},m=async a=>{a.preventDefault(),l(!0);try{let a=s?`/api/patients/${e.id}`:"/api/patients",t=await fetch(a,{method:s?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)}),n=await t.json();if(!t.ok)throw Error(n.error||"Gagal menyimpan data pasien");i.Ay.success(s?"Data berhasil diperbarui":"Data berhasil disimpan"),r.push("/patients")}catch(e){console.error("Error:",e),i.Ay.error(e.message)}finally{l(!1)}};return(0,a.jsxs)("form",{onSubmit:m,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Data Pribadi"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Nama Lengkap"}),(0,a.jsx)("input",{type:"text",name:"name",value:d.name,onChange:u,required:!0,className:"mt-1 block w-full rounded-md border focus:border-[#E22345] focus:ring-[#E22345]"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"NIK"}),(0,a.jsx)("input",{type:"text",name:"nik",value:d.nik,onChange:u,required:!0,className:"mt-1 block w-full rounded-md border focus:border-[#E22345] focus:ring-[#E22345]"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Tanggal Lahir"}),(0,a.jsx)("input",{type:"date",name:"birthDate",value:d.birthDate,onChange:u,required:!0,className:"mt-1 block w-full rounded-md border focus:border-[#E22345] focus:ring-[#E22345]"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Jenis Kelamin"}),(0,a.jsxs)("select",{name:"gender",value:d.gender,onChange:u,required:!0,className:"mt-1 block w-full rounded-md border focus:border-[#E22345] focus:ring-[#E22345]",children:[(0,a.jsx)("option",{value:"",children:"Pilih Jenis Kelamin"}),(0,a.jsx)("option",{value:"Laki-laki",children:"Laki-laki"}),(0,a.jsx)("option",{value:"Perempuan",children:"Perempuan"})]})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Data Kontak"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Alamat"}),(0,a.jsx)("textarea",{name:"address",value:d.address,onChange:u,rows:3,className:"mt-1 block w-full rounded-md border focus:border-[#E22345] focus:ring-[#E22345]"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"No. Telepon"}),(0,a.jsx)("input",{type:"tel",name:"phone",value:d.phone,onChange:u,className:"mt-1 block w-full rounded-md border focus:border-[#E22345] focus:ring-[#E22345]"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,a.jsx)("input",{type:"email",name:"email",value:d.email,onChange:u,className:"mt-1 block w-full rounded-md border focus:border-[#E22345] focus:ring-[#E22345]"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Data Asuransi"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Provider Asuransi"}),(0,a.jsx)("input",{type:"text",name:"insurance.provider",value:d.insurance.provider,onChange:u,className:"mt-1 block w-full rounded-md border focus:border-[#E22345] focus:ring-[#E22345]"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Nomor Asuransi"}),(0,a.jsx)("input",{type:"text",name:"insurance.number",value:d.insurance.number,onChange:u,className:"mt-1 block w-full rounded-md border focus:border-[#E22345] focus:ring-[#E22345]"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Tipe Asuransi"}),(0,a.jsx)("input",{type:"text",name:"insurance.type",value:d.insurance.type,onChange:u,className:"mt-1 block w-full rounded-md border focus:border-[#E22345] focus:ring-[#E22345]"})]})]})]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,a.jsx)("button",{type:"button",onClick:()=>r.back(),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Batal"}),(0,a.jsx)("button",{type:"submit",disabled:o,className:"px-4 py-2 text-white bg-[#E22345] rounded-md hover:bg-red-600 disabled:bg-gray-400",children:o?"Menyimpan...":s?"Update":"Simpan"})]})]})}},92280:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>i});var a=r(45512);r(58009);var t=r(52964),n=r(70042);function i(){return(0,a.jsx)(t.A,{children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Tambah Pasien Baru"}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsx)(n.A,{})})]})})}},17592:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>a});let a=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Volumes/Data-2/PHC/Project/dash-app/app/patients/new/page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Volumes/Data-2/PHC/Project/dash-app/app/patients/new/page.js","default")}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),a=s.X(0,[5994,4763,8077,8531,4098,5132],()=>r(18437));module.exports=a})();