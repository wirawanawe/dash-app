(()=>{var e={};e.id=6636,e.ids=[6636],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},79551:e=>{"use strict";e.exports=require("url")},90453:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>p,routeModule:()=>c,tree:()=>d});var a=r(70260),s=r(28203),o=r(25155),n=r.n(o),l=r(67292),i={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);r.d(t,i);let d=["",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,47894)),"/Volumes/Data-2/PHC/Project/dash-app/app/profile/page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,38301)),"/Volumes/Data-2/PHC/Project/dash-app/app/layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],p=["/Volumes/Data-2/PHC/Project/dash-app/app/profile/page.js"],u={require:r,loadChunk:()=>Promise.resolve()},c=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},33090:(e,t,r)=>{Promise.resolve().then(r.bind(r,47894))},51242:(e,t,r)=>{Promise.resolve().then(r.bind(r,90590))},90590:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var a=r(45512),s=r(58009),o=r(47544),n=r(52964),l=r(22403);function i(){let{user:e,setUser:t}=(0,o.A)(),[r,i]=(0,s.useState)(!1),[d,p]=(0,s.useState)({name:e?.name||"",email:e?.email||"",currentPassword:"",newPassword:"",confirmPassword:""}),u=async r=>{if(r.preventDefault(),d.newPassword!==d.confirmPassword){l.Ay.error("Password baru tidak cocok");return}try{let r=await fetch("/api/profile/update",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)}),a=await r.json();if(!r.ok)throw Error(a.message);t({...e,name:d.name,email:d.email}),i(!1),l.Ay.success("Profile berhasil diupdate")}catch(e){l.Ay.error(e.message||"Gagal update profile")}};return(0,a.jsx)(n.A,{children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"max-w-2xl mx-auto bg-white rounded-lg shadow-md p-6",children:[(0,a.jsx)("h1",{className:"text-2xl text-black font-bold mb-6",children:"Profile Settings"}),(0,a.jsxs)("form",{onSubmit:u,children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nama"}),(0,a.jsx)("input",{type:"text",value:d.name,onChange:e=>p({...d,name:e.target.value}),disabled:!r,className:"w-full px-3 py-2 text-black border rounded-lg focus:outline-none focus:border-[#E22345] disabled:bg-gray-100"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,a.jsx)("input",{type:"email",value:d.email,onChange:e=>p({...d,email:e.target.value}),disabled:!r,className:"w-full px-3 py-2 text-black border rounded-lg focus:outline-none focus:border-[#E22345] disabled:bg-gray-100"})]}),r&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password Saat Ini"}),(0,a.jsx)("input",{type:"password",value:d.currentPassword,onChange:e=>p({...d,currentPassword:e.target.value}),className:"w-full px-3 py-2 text-black border rounded-lg focus:outline-none focus:border-[#E22345]"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password Baru"}),(0,a.jsx)("input",{type:"password",value:d.newPassword,onChange:e=>p({...d,newPassword:e.target.value}),className:"w-full px-3 py-2 text-black border rounded-lg focus:outline-none focus:border-[#E22345]"})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Konfirmasi Password Baru"}),(0,a.jsx)("input",{type:"password",value:d.confirmPassword,onChange:e=>p({...d,confirmPassword:e.target.value}),className:"w-full px-3 py-2 text-black border rounded-lg focus:outline-none focus:border-[#E22345]"})]})]}),(0,a.jsx)("div",{className:"flex justify-end space-x-4",children:r?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-900",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:"px-4 py-2 bg-[#E22345] text-white rounded-lg hover:bg-red-600",children:"Save Changes"})]}):(0,a.jsx)("button",{type:"button",onClick:()=>i(!0),className:"px-4 py-2 bg-[#E22345] text-white rounded-lg hover:bg-red-600",children:"Edit Profile"})})]})]})})})}},47894:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Volumes/Data-2/PHC/Project/dash-app/app/profile/page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Volumes/Data-2/PHC/Project/dash-app/app/profile/page.js","default")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[5994,4763,8077,8531,4098,5132],()=>r(90453));module.exports=a})();